(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(26)},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),s=a.n(o),i=(a(18),a(19),a(3)),l=a(1),c=a(4);const d={domain:"dev-5td4cingceoxkbg3.us.auth0.com",clientId:"1oItBIe7sfb0bGL4tKxfZIsJp6IKeUOf",redirectUri:window.location.origin,audience:"https://dev-5td4cingceoxkbg3.us.auth0.com/api/v2/",scope:"openid profile email"};a(20);var u=()=>{const{loginWithRedirect:e,isAuthenticated:t,isLoading:a,user:n}=Object(c.b)(),o=Object(l.g)();return a?r.a.createElement("div",{className:"home-loading"},r.a.createElement("div",{className:"loading-spinner"}),r.a.createElement("p",null,"Loading...")):r.a.createElement("div",{className:"home"},r.a.createElement("h1",null,"Welcome to FitZone Gym"),t?r.a.createElement("div",{className:"authenticated-container"},r.a.createElement("p",{className:"welcome-back"},"Welcome back, ",n.name,"!"),r.a.createElement("img",{src:"https://source.unsplash.com/random/400x300/?fitness",alt:"Fitness",className:"home-image"}),r.a.createElement("div",{className:"home-buttons"},r.a.createElement("button",{className:"dashboard-button",onClick:()=>{o("/dashboard")}},"Go to Dashboard"),r.a.createElement(i.b,{to:"/exercises",className:"exercises-button"},"View Exercises"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Your fitness journey starts here"),r.a.createElement("img",{src:"https://source.unsplash.com/random/400x300/?gym",alt:"Gym",className:"home-image"}),r.a.createElement("div",{className:"home-buttons"},r.a.createElement("button",{className:"login-button",onClick:()=>{e({appState:{returnTo:"/dashboard"}})}},"Login"),r.a.createElement(i.b,{to:"/exercises",className:"exercises-button"},"View Exercises"))))};var m=()=>r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",width:"100%"}},r.a.createElement("style",null,"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "),r.a.createElement("div",{style:{width:"50px",height:"50px",border:"5px solid #f3f3f3",borderTop:"5px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"}}));a(21);var h=()=>{const{user:e,logout:t,isAuthenticated:a,isLoading:o}=Object(c.b)();return Object(n.useEffect)(()=>{if(a&&e){const t=document.createElement("div");t.className="welcome-notification",t.textContent=`Welcome back, ${e.name}!`,document.body.appendChild(t),setTimeout(()=>{t.classList.add("fade-out"),setTimeout(()=>{document.body.contains(t)&&document.body.removeChild(t)},500)},3e3)}},[a,e]),o?r.a.createElement(m,null):a&&e?r.a.createElement("div",{className:"dashboard-container"},r.a.createElement("div",{className:"dashboard-header"},r.a.createElement("div",{className:"user-info"},e.picture&&r.a.createElement("img",{src:e.picture,alt:e.name,className:"user-avatar"}),r.a.createElement("div",{className:"user-details"},r.a.createElement("h1",{className:"welcome-text"},"Welcome, ",e.name,"! \ud83d\udc4b"),r.a.createElement("p",{className:"user-email"},e.email))),r.a.createElement("button",{className:"logout-button",onClick:()=>t({logoutParams:{returnTo:window.location.origin}})},"Log Out")),r.a.createElement("div",{className:"dashboard-content"},r.a.createElement("div",{className:"dashboard-card"},r.a.createElement("h2",null,"Your Fitness Journey"),r.a.createElement("p",null,"Track your progress and achieve your fitness goals"),r.a.createElement(i.b,{to:"/exercises",className:"dashboard-link"},"Browse Exercises")),r.a.createElement("div",{className:"dashboard-stats"},r.a.createElement("div",{className:"stat-card"},r.a.createElement("h3",null,"Workouts"),r.a.createElement("p",{className:"stat-number"},"12"),r.a.createElement("p",{className:"stat-label"},"This month")),r.a.createElement("div",{className:"stat-card"},r.a.createElement("h3",null,"Calories"),r.a.createElement("p",{className:"stat-number"},"5,240"),r.a.createElement("p",{className:"stat-label"},"Burned")),r.a.createElement("div",{className:"stat-card"},r.a.createElement("h3",null,"Minutes"),r.a.createElement("p",{className:"stat-number"},"320"),r.a.createElement("p",{className:"stat-label"},"Active time"))))):r.a.createElement(l.a,{to:"/"})};a(22);const g=[{id:1,name:"Lunges",category:"Legs",image:"https://images.pexels.com/photos/4775203/pexels-photo-4775203.jpeg",description:"A powerful unilateral leg exercise that builds strength, improves balance, and enhances functional movement patterns."},{id:2,name:"Squats",category:"Legs",image:"https://images.pexels.com/photos/3775566/pexels-photo-3775566.jpeg",description:"The king of all exercises - a compound movement that builds total lower body strength and improves functional fitness."},{id:3,name:"Push-Ups",category:"Upper Body",image:"https://images.pexels.com/photos/176782/pexels-photo-176782.jpeg",description:"The ultimate bodyweight exercise for building upper body strength, chest definition, and core stability."},{id:4,name:"Side Plank",category:"Core",image:"https://images.pexels.com/photos/3756521/pexels-photo-3756521.jpeg",description:"A challenging isometric hold that builds core strength, improves stability, and targets your obliques for a strong, defined core."},{id:5,name:"Side Lateral Raises",category:"Shoulders",image:"https://media.istockphoto.com/id/815224148/photo/training-workout-men.jpg?s=2048x2048&w=is&k=20&c=ql_0YSFddTnq9A4MY8X5rWQADP20GagAhfp7JJaYZZM=",description:"An essential shoulder exercise that builds width, strength, and definition in your deltoids for well-rounded shoulder development."},{id:6,name:"Sit-Ups",category:"Core",image:"https://images.pexels.com/photos/3076516/pexels-photo-3076516.jpeg",description:"A fundamental core exercise that targets your entire abdominal region, helping build strength and definition in your midsection."}];var p=()=>{const e=Object(l.g)(),[t,a]=Object(n.useState)("all"),o="all"===t?g:g.filter(e=>e.category===t),s=["all",...new Set(g.map(e=>e.category))];return r.a.createElement("div",{className:"exercises-container"},r.a.createElement("header",{className:"exercises-header"},r.a.createElement("h1",{className:"exercises-title"},"Gym Exercises"),r.a.createElement("p",{className:"exercises-intro"},"Choose an exercise from our collection to get started on your fitness journey")),r.a.createElement("div",{className:"filter-container"},r.a.createElement("select",{className:"filter-dropdown",value:t,onChange:e=>a(e.target.value)},s.map(e=>r.a.createElement("option",{key:e,value:e},"all"===e?"All Categories":e)))),r.a.createElement("div",{className:"exercises-grid"},o.map(t=>r.a.createElement("article",{key:t.id,className:"exercise-card",onClick:()=>{return a=t.id,void e("/exercise/"+a);var a},"aria-label":t.name+" exercise"},r.a.createElement("div",{className:"exercise-image-container"},r.a.createElement("img",{src:t.image,alt:"Person performing "+t.name,className:"exercise-image",loading:"lazy",onError:e=>{e.target.src="https://via.placeholder.com/800x600?text=Exercise+Image",e.target.alt="Placeholder exercise image"}})),r.a.createElement("div",{className:"exercise-info"},r.a.createElement("h2",{className:"exercise-name"},t.name),r.a.createElement("span",{className:"exercise-category"},t.category),r.a.createElement("p",{className:"exercise-description"},t.description),r.a.createElement("button",{className:"exercise-button"},"View Details"))))))};a(23);const b=[{id:1,name:"Lunges",category:"Legs",image:"https://images.pexels.com/photos/4775203/pexels-photo-4775203.jpeg",description:"A powerful unilateral leg exercise that builds strength, improves balance, and enhances functional movement patterns.",instructions:["Stand with feet hip-width apart","Take a big step forward with one leg","Lower your body until both knees are bent at 90 degrees","Keep your front knee aligned with your ankle","Push back up to starting position and alternate legs"],benefits:["Improves balance and stability","Strengthens quadriceps, hamstrings, and glutes","Enhances core strength","Corrects muscle imbalances"],difficulty:"Beginner"},{id:2,name:"Squats",category:"Legs",image:"https://images.pexels.com/photos/3775566/pexels-photo-3775566.jpeg",description:"The king of all exercises - a compound movement that builds total lower body strength and improves functional fitness.",instructions:["Stand with feet shoulder-width apart","Keep your chest up and core engaged","Lower your body as if sitting back into a chair","Keep knees aligned with toes","Push through your heels to return to standing"],benefits:["Builds overall lower body strength","Improves mobility and flexibility","Strengthens core muscles","Boosts functional fitness"],difficulty:"Beginner"},{id:3,name:"Push-Ups",category:"Upper Body",image:"https://images.pexels.com/photos/176782/pexels-photo-176782.jpeg",description:"The ultimate bodyweight exercise for building upper body strength, chest definition, and core stability.",instructions:["Start in a plank position with hands shoulder-width apart","Keep your body in a straight line from head to heels","Lower your chest to the ground by bending your elbows","Push back up to the starting position","Keep your core tight throughout the movement"],benefits:["Strengthens chest, shoulders, and triceps","Improves core stability","Enhances upper body endurance","No equipment needed"],difficulty:"Intermediate"},{id:4,name:"Side Plank",category:"Core",image:"https://images.pexels.com/photos/3756521/pexels-photo-3756521.jpeg",description:"A challenging isometric hold that builds core strength, improves stability, and targets your obliques for a strong, defined core.",instructions:["Lie on your side with legs extended","Prop yourself up on your forearm with elbow under shoulder","Raise your hips off the ground creating a straight line","Hold this position while keeping your core engaged","Repeat on the other side"],benefits:["Strengthens obliques and core muscles","Improves lateral stability","Enhances posture","Helps prevent lower back pain"],difficulty:"Intermediate"},{id:5,name:"Side Lateral Raises",category:"Shoulders",image:"https://media.istockphoto.com/id/815224148/photo/training-workout-men.jpg?s=2048x2048&w=is&k=20&c=ql_0YSFddTnq9A4MY8X5rWQADP20GagAhfp7JJaYZZM=",description:"An essential shoulder exercise that builds width, strength, and definition in your deltoids for well-rounded shoulder development.",instructions:["Stand with feet shoulder-width apart, holding dumbbells at sides","Keep a slight bend in your elbows","Raise arms out to sides until parallel with ground","Pause briefly at the top","Lower weights back down with control"],benefits:["Builds shoulder width and strength","Improves shoulder stability","Enhances upper body aesthetics","Better shoulder mobility"],difficulty:"Beginner"},{id:6,name:"Sit-Ups",category:"Core",image:"https://images.pexels.com/photos/3076516/pexels-photo-3076516.jpeg",description:"A fundamental core exercise that targets your entire abdominal region, helping build strength and definition in your midsection.",instructions:["Lie on your back with knees bent and feet flat","Place hands behind your head, elbows pointing out","Engage your core and lift your upper body off the ground","Lift until your chest meets your knees","Lower back down with control"],benefits:["Strengthens abdominal muscles","Improves core stability","Enhances posture","Helps develop six-pack muscles"],difficulty:"Beginner"}];var f=()=>{const{id:e}=Object(l.h)(),t=Object(l.g)(),[a,o]=Object(n.useState)(null),[s,i]=Object(n.useState)(!1);Object(n.useEffect)(()=>{const a=b.find(t=>t.id===parseInt(e));a?o(a):t("/exercises")},[e,t]);return a?r.a.createElement("div",{className:"exercise-detail-container"},s&&r.a.createElement("div",{className:"welcome-message"},"Welcome to try this exercise!"),r.a.createElement("button",{className:"back-button",onClick:()=>t("/exercises")},"\u2190 Back to Exercises"),r.a.createElement("div",{className:"exercise-detail-header"},r.a.createElement("h1",null,a.name),r.a.createElement("span",{className:"exercise-detail-category"},a.category),r.a.createElement("span",{className:"exercise-detail-difficulty"},a.difficulty)),r.a.createElement("div",{className:"exercise-detail-content"},r.a.createElement("div",{className:"exercise-detail-image-container"},r.a.createElement("img",{src:a.image,alt:a.name,className:"exercise-detail-image"}),r.a.createElement("button",{className:"try-button",onClick:()=>{i(!0),setTimeout(()=>{i(!1),t("/exercise-detection",{state:{exercise:a}})},1500)}},"Try This Exercise")),r.a.createElement("div",{className:"exercise-detail-info"},r.a.createElement("div",{className:"exercise-description-block"},r.a.createElement("h2",null,"Description"),r.a.createElement("p",null,a.description)),r.a.createElement("div",{className:"exercise-instructions-block"},r.a.createElement("h2",null,"Instructions"),r.a.createElement("ol",null,a.instructions.map((e,t)=>r.a.createElement("li",{key:t},e)))),r.a.createElement("div",{className:"exercise-benefits-block"},r.a.createElement("h2",null,"Benefits"),r.a.createElement("ul",null,a.benefits.map((e,t)=>r.a.createElement("li",{key:t},e))))))):r.a.createElement("div",{className:"loading"},"Loading exercise details...")};a(24);var y=e=>{let{children:t}=e;const{isAuthenticated:a,isLoading:n,error:o}=Object(c.b)();return n?r.a.createElement(m,null):o?(console.error("Authentication error:",o),r.a.createElement("div",{className:"auth-error"},r.a.createElement("h2",null,"Authentication Error"),r.a.createElement("p",null,o.message),r.a.createElement("button",{onClick:()=>window.location.reload()},"Try Again"))):a?t:r.a.createElement(l.a,{to:"/"})},E=a(8),v=a(9);const w=(e,t,a)=>{const n=Math.atan2(a.y-t.y,a.x-t.x)-Math.atan2(e.y-t.y,e.x-t.x);let r=Math.abs(180*n/Math.PI);return r>180&&(r=360-r),r},x=(e,t,a)=>e>=t-a&&e<=t+a,k=(e,t,a)=>Math.abs(e-a)>Math.abs(t-a)?"left":"right",N=[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[27,29],[29,31],[26,28],[28,30],[30,32],[27,31],[28,32]];a(25);var S=a(7),M=a.n(S);var L=()=>{const e=Object(l.f)(),t=Object(l.g)(),a=Object(n.useRef)(null),o=Object(n.useRef)(null),[s,i]=Object(n.useState)(""),[c,d]=Object(n.useState)(0),[u,m]=Object(n.useState)(null),[h,g]=Object(n.useState)(!0),[p,b]=Object(n.useState)(null);Object(n.useEffect)(()=>{var a;(null===(a=e.state)||void 0===a?void 0:a.exercise)?b(e.state.exercise):t("/exercises")},[e,t]);Object(n.useEffect)(()=>{if(!h||!p)return;let e=null;const t=new E.Pose({locateFile:e=>"https://cdn.jsdelivr.net/npm/@mediapipe/pose/"+e});t.setOptions({modelComplexity:1,smoothLandmarks:!0,enableSegmentation:!1,smoothSegmentation:!1,minDetectionConfidence:.5,minTrackingConfidence:.5});t.onResults(e=>{const t=o.current.getContext("2d"),n=e.poseLandmarks;if(o.current&&a.current&&a.current.video){const r=a.current.video.videoWidth,s=a.current.video.videoHeight;if(o.current.width=r,o.current.height=s,t.save(),t.clearRect(0,0,r,s),t.save(),t.scale(-1,1),t.translate(-r,0),t.drawImage(e.image,0,0,r,s),t.restore(),n){const e=n.map(e=>({...e,x:1-e.x}));let a;switch(((e,t)=>{e.strokeStyle="white",e.lineWidth=2,N.forEach(a=>{let[n,r]=a;t[n]&&t[r]&&(e.beginPath(),e.moveTo(t[n].x*e.canvas.width,t[n].y*e.canvas.height),e.lineTo(t[r].x*e.canvas.width,t[r].y*e.canvas.height),e.stroke())}),e.fillStyle="red",t.forEach(t=>{const a=t.x*e.canvas.width,n=t.y*e.canvas.height;e.beginPath(),e.arc(a,n,5,0,2*Math.PI),e.fill()})})(t,e),p.name){case"Squats":a=(e=>{if(!e)return null;const t=e[23],a=e[25],n=e[27],r=e[24],o=e[26],s=e[28],i=w(t,a,n),l=w(r,o,s);let c="",d=!1;if(x(i,90,15)&&x(l,90,15))c="Perfect squat! Knees at 90\xb0 with good symmetry",d=!0;else{const e=k(i,l,90),t="left"===e?i:l;t<75?c=`Your ${e} knee is too bent (${Math.round(t)}\xb0). Rise slightly to reach 90\xb0`:t>105&&(c=`Your ${e} knee isn't bent enough (${Math.round(t)}\xb0). Lower yourself further`),Math.abs(i-l)>15&&(c+=`. Also, your knees are uneven (L:${Math.round(i)}\xb0 vs R:${Math.round(l)}\xb0). Focus on equal depth`)}return{label:"Squat",feedback:c||"Adjust your squat depth to reach 90\xb0 knee bend",isCorrect:d,count:d?1:0,angles:{leftKnee:Math.round(i),rightKnee:Math.round(l)}}})(n);break;case"Push-Ups":a=(e=>{if(!e)return null;const t=e[11],a=e[13],n=e[15],r=e[12],o=e[14],s=e[16],i=e[0],l=e[23],c=e[24],d=w(t,a,n),u=w(r,o,s),m=w(i,l,c);let h="",g=!1;if(x(d,90,15)&&x(u,90,15)&&x(m,180,10))h="Excellent push-up form! Elbows at 90\xb0 with straight body",g=!0;else{if(d>105||u>105){const e=k(d,u,90),t="left"===e?d:u;h=`Your ${e} arm isn't bent enough (${Math.round(t)}\xb0). Lower your chest further`}else(d<75||u<75)&&(h="You're too low. Push up slightly to reach 90\xb0 elbow bend");m<170?(h+=h?" and ":"",h+=`Your hips are sagging (body angle ${Math.round(m)}\xb0). Tighten your core`):m>190&&(h+=h?" and ":"",h+=`Your hips are too high (body angle ${Math.round(m)}\xb0). Lower your hips`),Math.abs(d-u)>15&&(h+=h?". Also, ":"",h+=`your arms are uneven (L:${Math.round(d)}\xb0 vs R:${Math.round(u)}\xb0)`)}return{label:"Push-up",feedback:h||"Lower your body until elbows reach 90\xb0 while keeping body straight",isCorrect:g,count:g?1:0,angles:{leftElbow:Math.round(d),rightElbow:Math.round(u),bodyAlignment:Math.round(m)}}})(n);break;case"Lunges":a=(e=>{if(!e)return null;const t=e[23],a=e[25],n=e[27],r=e[24],o=e[26],s=e[28],i=e[0],l=e[11],c=e[12],d=w(t,a,n),u=w(r,o,s),m=w(i,l,c);let h="",g=!1;const p=d<u,b=p?d:u,f=p?u:d;if(x(b,90,15)&&(x(f,170,20)||f<100)&&x(m,180,10))h=`Perfect ${p?"left":"right"} lunge! Front knee at 90\xb0 with proper torso alignment`,g=!0;else{b<75?h=`Your front knee is too bent (${Math.round(b)}\xb0). Move your foot forward slightly`:b>105&&(h=`Your front knee isn't bent enough (${Math.round(b)}\xb0). Lower your hips further`),f<160&&(h+=h?" and ":"",h+=`your back leg should be straighter (currently ${Math.round(f)}\xb0)`),m<170?(h+=h?" and ":"",h+=`you're leaning too far forward (${Math.round(m)}\xb0)`):m>190&&(h+=h?" and ":"",h+=`you're leaning too far back (${Math.round(m)}\xb0)`);const e=p?n:s;(p?a:o).x<e.x&&(h+=h?". Also, ":"",h+="your front knee is past your toes - keep it aligned with your ankle")}return{label:"Lunge",feedback:h||"Perform a lunge with front knee at 90\xb0 and back leg straight",isCorrect:g,count:g?1:0,angles:{frontKnee:Math.round(b),backKnee:Math.round(f),torso:Math.round(m)}}})(n);break;case"Side Plank":a=(e=>{if(!e)return null;const t=e[11],a=e[23],n=e[27],r=e[12],o=e[24],s=e[28],i=(e[0],w(t,a,n)),l=w(r,o,s),c=i<l,d=c?i:l,u=c?w(t,a,o):w(r,o,a);let m="",h=!1;return x(d,180,10)&&x(u,180,15)?(m=`Perfect ${c?"left":"right"} side plank! Body perfectly straight`,h=!0):(d<170?m=`Your hips are sagging (body angle ${Math.round(d)}\xb0). Lift them higher`:d>190&&(m=`Your hips are too high (body angle ${Math.round(d)}\xb0). Lower them slightly`),u<165?(m+=m?" and ":"",m+=`you're leaning too far forward (hip angle ${Math.round(u)}\xb0)`):u>195&&(m+=m?" and ":"",m+=`you're leaning too far backward (hip angle ${Math.round(u)}\xb0)`)),{label:"Side Plank",feedback:m||"Straighten your body in a line from head to feet",isCorrect:h,count:h?1:0,angles:{bodyAlignment:Math.round(d),hipAlignment:Math.round(u)}}})(n);break;case"Side Lateral Raises":a=(e=>{if(!e)return null;const t=e[11],a=e[13],n=e[15],r=e[12],o=e[14],s=e[16],i=e[0],l=e[23],c=e[24],d=w(t,a,n),u=w(r,o,s),m=w(l,t,n),h=w(c,r,s),g=w(i,t,r);let p="",b=!1;if(x(d,90,15)&&x(u,90,15)&&x(m,80,10)&&x(h,80,10)&&x(g,180,5))p="Perfect lateral raise! Arms at 90\xb0 and raised to shoulder height",b=!0;else{if(d<75||u<75){const e=k(d,u,90);p=`Your ${e} arm is too bent (${Math.round("left"===e?d:u)}\xb0). Straighten it more`}else(d>105||u>105)&&(p="Your arms are too straight. Maintain a slight bend");if(m<70||h<70){const e=m<h?"left":"right";p+=p?" and ":"",p+=`your ${e} arm isn't high enough (${Math.round("left"===e?m:h)}\xb0). Raise to shoulder level`}else(m>90||h>90)&&(p+=p?" and ":"",p+="you're raising your arms too high. Lower to shoulder level");g<175?(p+=p?" and ":"",p+="you're leaning forward. Stand straight"):g>185&&(p+=p?" and ":"",p+="you're leaning backward. Stand straight"),Math.abs(m-h)>15&&(p+=p?". Also, ":"",p+=`your arms are uneven (L:${Math.round(m)}\xb0 vs R:${Math.round(h)}\xb0)`)}return{label:"Lateral Raise",feedback:p||"Raise arms to shoulder height with slight bend at elbows",isCorrect:b,count:b?1:0,angles:{leftArm:Math.round(d),rightArm:Math.round(u),leftElevation:Math.round(m),rightElevation:Math.round(h),torso:Math.round(g)}}})(n);break;case"Sit-Ups":a=(e=>{if(!e)return null;const t=e[11],a=e[23],n=e[25],r=e[12],o=e[24],s=e[26],i=e[0],l=w(t,a,n),c=w(r,o,s),d=w(i,t,r),u=w(t,a,o);let m="",h=!1;const g=(l+c)/2<100,p=g?60:150;return x(l,p,15)&&x(c,p,15)&&x(d,180,5)&&(g||x(u,180,10))?(m=`Good ${g?"up":"down"} position!`,h=!0):(g?l>p+15||c>p+15?m="Come up higher until your torso is about 60\xb0 from the floor":(l<p-15||c<p-15)&&(m="You're coming up too far. Stop when your torso is about 60\xb0 from the floor"):(l<p-15||c<p-15)&&(m="Lower your torso further until it's nearly flat on the floor"),(d<175||d>185)&&(m+=m?" and ":"",m+="avoid twisting your torso - keep it straight"),!g&&u<170&&(m+=m?" and ":"",m+="fully extend your hips at the bottom"),Math.abs(l-c)>15&&(m+=m?". Also, ":"",m+=`your sides are uneven (L:${Math.round(l)}\xb0 vs R:${Math.round(c)}\xb0)`)),{label:"Sit-up",feedback:m||`${g?"Sit":"Lie"} ${g?"up":"down"} with proper form`,isCorrect:h,count:h?1:0,angles:{torso:Math.round((l+c)/2),twist:Math.round(d),hips:Math.round(u)}}})(n);break;default:a={label:"",feedback:"",count:0,isCorrect:!1}}a&&(i(a.feedback||""),d(a.count||0),m(a.angles||null),a.feedback&&(e=>{const t=new window.SpeechSynthesisUtterance(e);window.speechSynthesis.speak(t)})(a.feedback),a.angles&&((e,t,a)=>{if(!a)return;const n={leftKnee:25,rightKnee:26,leftElbow:13,rightElbow:14,leftShoulder:11,rightShoulder:12,bodyAlignment:23,torso:23,frontKnee:a.isLeftForward?25:26,backKnee:a.isLeftForward?26:25};e.fillStyle="yellow",e.font="24px Arial",e.textAlign="center",Object.entries(a).forEach(a=>{let[r,o]=a;const s=n[r];if(s&&t[s]){const a=t[s],n=a.x*e.canvas.width,r=a.y*e.canvas.height;e.fillText(o+"\xb0",n+20,r-20)}})})(t,e,a.angles))}t.restore()}});const n=setInterval(()=>{a.current&&a.current.video&&4===a.current.video.readyState&&(e=new v.Camera(a.current.video,{onFrame:async()=>{await t.send({image:a.current.video})},width:1280,height:720}),e.start(),clearInterval(n))},500);return()=>{e&&e.stop(),clearInterval(n),window.speechSynthesis.cancel()}},[h,p]);return p?r.a.createElement("div",{className:"exercise-detection"},r.a.createElement("div",{className:"exercise-header"},r.a.createElement("h2",null,p.name),r.a.createElement("button",{className:"back-button",onClick:()=>t("/exercises")},"\u2190 Back to Exercises")),r.a.createElement("div",{style:{position:"relative",width:"100%",maxWidth:"1280px",height:"720px",margin:"0 auto"}},r.a.createElement(M.a,{audio:!1,ref:a,mirrored:!1,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"},videoConstraints:{width:1280,height:720,facingMode:"user"}}),r.a.createElement("canvas",{ref:o,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),r.a.createElement("div",{style:{position:"absolute",bottom:16,left:16,background:"white",padding:8,borderRadius:8,boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:10}},r.a.createElement("p",{style:{margin:0}},"Feedback: ",s),r.a.createElement("p",{style:{margin:0}},"Reps: ",c)),u&&r.a.createElement("div",{style:{position:"absolute",bottom:80,left:16,background:"rgba(255, 255, 255, 0.8)",padding:8,borderRadius:8,boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:10}},r.a.createElement("h4",{style:{margin:"0 0 5px 0"}},"Angles:"),Object.entries(u).map(e=>{let[t,a]=e;return r.a.createElement("p",{key:t,style:{margin:0,textTransform:"capitalize"}},t,": ",a,"\xb0")})),r.a.createElement("div",{style:{position:"absolute",top:16,right:16,zIndex:20}},h?r.a.createElement("button",{onClick:()=>g(!1),className:"control-button stop"},"Stop Detection"):r.a.createElement("button",{onClick:()=>g(!0),className:"control-button start"},"Start Detection")))):r.a.createElement("div",{className:"loading"},"Loading...")};var j=function(){const[e,t]=Object(n.useState)(null);return Object(n.useEffect)(()=>{const e=e=>{var a;console.error("Caught error:",e.error),t("Error: "+((null===(a=e.error)||void 0===a?void 0:a.message)||"Unknown error"))};return window.addEventListener("error",e),()=>window.removeEventListener("error",e)},[]),e?r.a.createElement("div",{style:{padding:"20px",color:"red"}},r.a.createElement("h1",null,"Something went wrong"),r.a.createElement("pre",null,e),r.a.createElement("button",{onClick:()=>t(null)},"Try Again")):r.a.createElement(c.a,Object.assign({},d,{useRefreshTokens:!0,cacheLocation:"localstorage"}),r.a.createElement("div",{className:"App"},r.a.createElement(i.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/",element:r.a.createElement(u,null)}),r.a.createElement(l.b,{path:"/exercises",element:r.a.createElement(p,null)}),r.a.createElement(l.b,{path:"/exercise/:id",element:r.a.createElement(f,null)}),r.a.createElement(l.b,{path:"/exercise-detection",element:r.a.createElement(L,null)}),r.a.createElement(l.b,{path:"/dashboard",element:r.a.createElement(y,null,r.a.createElement(h,null))})))))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.68059616.chunk.js.map